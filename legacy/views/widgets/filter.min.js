!function(e,t){"function"==typeof define&&define.amd?define(["stratus","jquery","underscore","stratus.views.widgets.base"],t):t(e.Stratus,e.$,e._)}(this,function(e,t,i){e.Views.Widgets.Filter=e.Views.Widgets.Base.extend({template:i.template("<div>Filter Template Here!</div>"),url:"/Api/",events:{'keypress input[type="text"]':"enter",'keydown input[type="text"]':"escape",'click button[type="submit"]':"submit"},options:{private:{paginate:{persist:!1},api:{limit:null},forceType:"collection"},public:{target:null}},onRender:function(e){return this.input=this.$el.find('input[type="text"]'),!0},onRegister:function(){return this.collection.on("reset",this.rerender,this),this.collection.on("change",this.rerender,this),!0},submit:function(e){this.search(this.input.val())},enter:function(t){t.keyCode===e.Key.Enter&&this.search(this.input.val())},escape:function(t){t.keyCode===e.Key.Escape&&this.search()},search:function(e){if(!this.collection.isHydrated())return!1;Backbone.history.navigate("filter/"+this.collection.entity+(void 0===e?"":"/"+e),!0)}})});