!function(e,t){"function"==typeof define&&define.amd?define(["stratus","jquery","underscore","stratus.views.plugins.base","stratus.views.plugins.addclass","stratus.views.plugins.addclose"],t):t(e.Stratus,e.$,e._)}(this,function(e,t,a){e.Views.Plugins.Drawer=e.Views.Plugins.Base.extend({events:{click:"toggle"},initialize:function(a){if(this.prepare(a),!this.$el.attr("id"))return console.warn('No ID supplied for data-plugin="Drawer" button.',this.$el),!1;var i=this.$el.attr("id").replace(/-.*$/,""),r=this.$el.data("target")?t(this.$el.data("target")):t("#"+i+"-drawer");if(!r)return console.warn('No ID supplied for data-plugin="Drawer" targetted drawer.',this.$el),!1;this.drawerClass=this.$el.data("mobileonly")?"mobileDrawer":"drawer",r.addClass(this.drawerClass),r.attr("aria-labelledby")||r.attr("aria-labelledby",i);var s=r.find(".btnClose");s.length||(new e.Views.Plugins.AddClose({el:r}),s=r.find(".btnClose")),s.unbind("click"),s.on("click",function(){this.toggle()}.bind(this))},toggle:function(){var e=this.$el.attr("id").replace(/-.*$/,"");t("#"+e+"-drawer").removeClass("hidden");var a=this.drawerClass.toLowerCase(),i=t("body");i.attr("data-"+a+"open")!==e?i.attr("data-"+a+"open",e):i.attr("data-"+a+"open",null)}})});