<!-- show progress while initializing -->
<mat-progress-bar mode="indeterminate" *ngIf="!isStyled || !isInitialized"></mat-progress-bar>

<!-- *ngIf="isInitialized && isStyled" -->
<div class="tree" cdkDropListGroup>
    <mat-progress-bar mode="indeterminate" *ngIf="collection.completed && collection.pending"></mat-progress-bar>
    <div class="float-right">
        <button mat-button
                (click)="setExpandedClick(true)"
                (dblclick)="setExpandedDblClick(true)">
            Expand All
        </button>
        /
        <button mat-button
                (click)="setExpandedClick(false)"
                (dblclick)="setExpandedDblClick(false)">
            Collapse All
        </button>
    </div>
    <div cdkDropList
         [id]="uid + '_parent_drop_list'"
         [cdkDropListConnectedTo]="dropLists"
         [cdkDropListData]="null"
         [cdkDropListDisabled]="false"
         (cdkDropListDropped)="onDragDrop($event)"
         class="tree-node-drop-list">
        <!--[id]="uid + '_node_' + node.model.data.id"-->
        <!--(mouseenter)="onDragHover(node)"-->
        <!--(mouseleave)="onDragHoverEnd()"-->
        <!--(cdkDragStarted)="onDragStart()"-->
        <!--(cdkDragReleased)="onDragEnd()"-->
        <ng-container *ngIf='dataSub | async; let rootNodes'>
            <div *ngIf='!rootNodes || rootNodes.length === 0'>
                Add links to start building a Menu.
            </div>
            <sa-tree-node cdkDrag
                          *ngFor="let rootNode of rootNodes"
                          [cdkDragData]="rootNode"
                          [tree]="this"
                          [node]="rootNode"
                          class="tree-node"></sa-tree-node>
        </ng-container>
    </div>
</div>
