<mat-progress-bar mode="indeterminate" *ngIf="!styled"></mat-progress-bar>

<div class="editor-component"
     [formGroup]="form"
     [attr.data-uid]="uid">
    <!-- *ngIf="styled" -->
    <!-- The pipe data shows properly in the span below -->
    <!--
    <span [class.display-none]="true"
          [innerText]="dataSub | async">
    </span>
    -->

    <!-- view multiple options -->
    <!-- --
    <ng-container *ngIf="styled && dev">
        <mat-button-toggle-group name="editor"
                                 aria-label="Editor"
                                 [(value)]="editor">
            <mat-button-toggle value="angular-editor">
                Angular-Editor
            </mat-button-toggle>
            <mat-button-toggle value="quill">
                Quill
            </mat-button-toggle>
        </mat-button-toggle-group>
        <br>
    </ng-container>
    !-- -->

    <ng-container *ngIf="styled && editor == 'froala'">
        <!-- Media Selector -->
        <p>
            <a mat-raised-button
               (click)="openMediaDialog()">
                Add Media
            </a>
        </p>
        <!-- Froala Editor -->
        <textarea [froalaEditor]="froalaConfig" formControlName="dataString"></textarea>
        <!--
        <textarea [froalaEditor]="froalaConfig" (froalaModelChange)="onChangeEvent($event)" [(froalaModel)]="model"></textarea>
        -->
    </ng-container>


    <ng-container *ngIf="styled && editor == 'angular-editor'">
        <!-- Media Selector -->
        <p>
            <a mat-raised-button
                    (click)="openMediaDialog()">
                Add Media
            </a>
        </p>
        <!-- Angular Editor -->
        <angular-editor formControlName="dataString"
                        [id]="'angular-editor-'+uid"
                        [config]="editorConfig"
                        (blur)="onBlur($event)"
                        (focus)="onFocus($event)">
        </angular-editor>
    </ng-container>

    <ng-container *ngIf="styled && editor == 'quill'">
        <!-- Quill Editor -->
        <!-- https://www.npmjs.com/package/ngx-quill -->
        <!-- Note: The easiest way may be use of a FormControl like so: [formControl]="form.get(property)" -->
        <!--
        <quill-editor [styles]="{height:'auto', 'min-height':'300px', background: '#ffffff'}"
                      [attr.data-uid]="uid"
                      (onEditorCreated)="created($event)"
                      (onBlur)="onBlur($event)"
                      (onFocus)="onFocus($event)"
                      formControlName="dataString"
                      format="html">
                      -->
            <!--
            (onEditorChanged)="changedEditor($event)"
            [formControl]="form.get('dataString')"
            -->
            <div class="ql-container ql-snow" style="border-width: 0;">
                <!-- [innerHTML]="dataSub | async" -->
                <div class="ql-editor"></div>
            </div>
        <!--
        </quill-editor>
        -->
    </ng-container>
</div>

<!--
<h3 id="html">HTML Display Test</h3>
<pre>
  <code>
    {{ form.get('html').value }}
  </code>
</pre>

<div>
    Direct HTML (No Editor)
    <div class="ql-container ql-snow editor" style="border-width: 0;">
        <div style="width: 100%" class="ql-editor" [innerHTML]="bypassHTML(form.get('html').value)"></div>
    </div>
</div>

<div>
    Quill with HTML
    <div class="editor">
        <form [formGroup]="form">
            <quill-editor format="html" formControlName="html"></quill-editor>
        </form>
    </div>
</div>
-->
