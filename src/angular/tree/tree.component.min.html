<cdk-tree cdkdroplist class="tree tree-node-drop-list" [datasource]="dataSub | async" [treecontrol]="treeControl" [id]="uid + '_drop_list'" [cdkdroplistconnectedto]="dropListsIds" (cdkdroplistdropped)="onDragDrop($event)"><cdk-nested-tree-node cdkdrag class="tree-node" *cdktreenodedef="let node" [id]="uid + '_' + node.id" [cdkdragdata]="node"><button mat-icon-button disabled="disabled"></button> <span [textcontent]="node.model.data.name" (click)="openDialog(node.model)"></span><div *cdkdragpreview [textcontent]="node.model.data.name" class="tree-node-drag-preview"></div><div cdkdroplist class="tree-node-drop-list" [id]="uid + '_' + node.id + '_drop_list'" [cdkdroplistconnectedto]="dropListsIds" (cdkdroplistdropped)="onDragDrop($event)"></div></cdk-nested-tree-node><cdk-nested-tree-node cdkdrag class="tree-node" *cdktreenodedef="let node; when: hasChild" [id]="uid + '_' + node.id" [cdkdragdata]="node"><button cdktreenodetoggle mat-icon-button [attr.aria-label]="'toggle ' + node.model.data.name"><mat-icon class="mat-icon-rtl-mirror">{{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}</mat-icon></button> <span [textcontent]="node.model.data.name" (click)="openDialog(node.model)"></span><div *cdkdragpreview [textcontent]="node.model.data.name" class="tree-node-drag-preview"></div><div cdkdroplist class="tree-node-drop-list" [id]="uid + '_' + node.id + '_drop_list'" [cdkdroplistconnectedto]="dropListsIds" (cdkdroplistdropped)="onDragDrop($event)"></div><div [class.tree-invisible]="!treeControl.isExpanded(node)"><ng-container cdktreenodeoutlet></ng-container></div></cdk-nested-tree-node></cdk-tree>