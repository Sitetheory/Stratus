System.register(["lodash","stratus","angular-material","@stratusjs/angularjs/services/registry","@stratusjs/angularjs/services/model","@stratusjs/angularjs/services/collection","@stratusjs/core/conversion"],(function(exports_1,context_1){"use strict";var _,Stratus,conversion_1,model_1,collection_1,min;context_1&&context_1.id;return{setters:[function(_1){_=_1},function(Stratus_1){Stratus=Stratus_1},function(_2){},function(_3){},function(model_1_1){model_1=model_1_1},function(collection_1_1){collection_1=collection_1_1},function(conversion_1_1){conversion_1=conversion_1_1}],execute:function(){min=Stratus.Environment.get("production")?".min":"","base","components",Stratus.Components.Base={transclude:{model:"?stratusBaseModel"},bindings:{elementId:"@",ngModel:"=",property:"@",target:"@",id:"@",manifest:"@",decouple:"@",direct:"@",api:"@",urlRoot:"@",limit:"@",options:"<"},controller($scope,$attrs,R,M,C){this.uid=_.uniqueId(conversion_1.camelToSnake("base")+"_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,Stratus.Internals.CssLoader(Stratus.BaseUrl+Stratus.BundlePath+"components/base"+min+".css"),$scope.initialized=!1,$scope.property=$attrs.property||null,$scope.data=null,$scope.model=null,$scope.collection=null,$attrs.target&&R.fetch($attrs,$scope),$scope.$watch("$ctrl.ngModel",data=>{data instanceof model_1.Model&&data!==$scope.model?$scope.model=data:data instanceof collection_1.Collection&&data!==$scope.collection&&($scope.collection=data)}),$scope.initialize=()=>{$scope.initialized||($scope.model&&($scope.initialized=!0,$scope.model.on("change",()=>{console.log("model changed:",$scope.model.patch)})),$scope.collection&&($scope.initialized=!0,console.log("collection available")))},$scope.$watch("$scope.model.completed",(newVal,oldVal)=>{newVal&&!_.isEqual(newVal,oldVal)&&$scope.initialize()}),$scope.$watch("$scope.collection.completed",(newVal,oldVal)=>{newVal&&!_.isEqual(newVal,oldVal)&&$scope.initialize()}),Stratus.Environment.get("production")||console.log("base","component:",$scope,$attrs)},templateUrl:Stratus.BaseUrl+Stratus.BundlePath+"components/base"+min+".html"}}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsiU3lzdGVtIiwicmVnaXN0ZXIiLCJleHBvcnRzXzEiLCJjb250ZXh0XzEiLCJfIiwiU3RyYXR1cyIsImNvbnZlcnNpb25fMSIsIm1vZGVsXzEiLCJjb2xsZWN0aW9uXzEiLCJtaW4iLCJpZCIsInNldHRlcnMiLCJfMSIsIlN0cmF0dXNfMSIsIl8yIiwiXzMiLCJtb2RlbF8xXzEiLCJjb2xsZWN0aW9uXzFfMSIsImNvbnZlcnNpb25fMV8xIiwiZXhlY3V0ZSIsIkVudmlyb25tZW50IiwiZ2V0IiwiQ29tcG9uZW50cyIsIkJhc2UiLCJ0cmFuc2NsdWRlIiwibW9kZWwiLCJiaW5kaW5ncyIsImVsZW1lbnRJZCIsIm5nTW9kZWwiLCJwcm9wZXJ0eSIsInRhcmdldCIsIm1hbmlmZXN0IiwiZGVjb3VwbGUiLCJkaXJlY3QiLCJhcGkiLCJ1cmxSb290IiwibGltaXQiLCJvcHRpb25zIiwiW29iamVjdCBPYmplY3RdIiwiJHNjb3BlIiwiJGF0dHJzIiwiUiIsIk0iLCJDIiwidGhpcyIsInVpZCIsInVuaXF1ZUlkIiwiY2FtZWxUb1NuYWtlIiwiSW5zdGFuY2VzIiwiSW50ZXJuYWxzIiwiQ3NzTG9hZGVyIiwiQmFzZVVybCIsIkJ1bmRsZVBhdGgiLCJpbml0aWFsaXplZCIsImRhdGEiLCJjb2xsZWN0aW9uIiwiZmV0Y2giLCIkd2F0Y2giLCJNb2RlbCIsIkNvbGxlY3Rpb24iLCJpbml0aWFsaXplIiwib24iLCJjb25zb2xlIiwibG9nIiwicGF0Y2giLCJuZXdWYWwiLCJvbGRWYWwiLCJpc0VxdWFsIiwidGVtcGxhdGVVcmwiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxTQUFTLENBQUMsU0FBVSxVQUFXLG1CQUFvQix5Q0FBMEMsc0NBQXVDLDJDQUE0QywrQkFBK0IsU0FBVUMsVUFBV0MsV0FDek8sYUFFQSxJQUFJQyxFQUFHQyxRQUFTQyxhQUFjQyxRQUFTQyxhQUFjQyxJQUVsQ04sV0FBYUEsVUFBVU8sR0FFMUMsTUFBTyxDQUNMQyxRQUFTLENBQUMsU0FBVUMsSUFDbEJSLEVBQUlRLElBQ0gsU0FBVUMsV0FDWFIsUUFBVVEsV0FDVCxTQUFVQyxNQUFRLFNBQVVDLE1BQVEsU0FBVUMsV0FDL0NULFFBQVVTLFdBQ1QsU0FBVUMsZ0JBQ1hULGFBQWVTLGdCQUNkLFNBQVVDLGdCQUNYWixhQUFlWSxpQkFFakJDLFFBQVMsV0FDUFYsSUFBTUosUUFBUWUsWUFBWUMsSUFBSSxjQUFnQixPQUFTLEdBQ2hELE9BQ0ssYUFDWmhCLFFBQVFpQixXQUFXQyxLQUFPLENBQ3hCQyxXQUFZLENBQ1ZDLE1BQU8scUJBRVRDLFNBQVUsQ0FDUkMsVUFBVyxJQUNYQyxRQUFTLElBQ1RDLFNBQVUsSUFDVkMsT0FBUSxJQUNScEIsR0FBSSxJQUNKcUIsU0FBVSxJQUNWQyxTQUFVLElBQ1ZDLE9BQVEsSUFDUkMsSUFBSyxJQUNMQyxRQUFTLElBQ1RDLE1BQU8sSUFDUEMsUUFBUyxLQUdYQyxXQUFXQyxPQUFRQyxPQUFRQyxFQUFHQyxFQUFHQyxHQUNqQkMsS0FDUkMsSUFBTXpDLEVBQUUwQyxTQUFTeEMsYUFBYXlDLGFBdkJqQyxRQXVCc0QsS0FDekQxQyxRQUFRMkMsVUFGTUosS0FFVUMsS0FBT04sT0FDL0JBLE9BQU9aLFVBQVlhLE9BQU9iLFdBSFppQixLQUcrQkMsSUFDN0N4QyxRQUFRNEMsVUFBVUMsVUFBVTdDLFFBQVE4QyxRQUFVOUMsUUFBUStDLFdBekI5QyxrQkF5Qm9GM0MsSUFBTSxRQUNsRzhCLE9BQU9jLGFBQWMsRUFDckJkLE9BQU9WLFNBQVdXLE9BQU9YLFVBQVksS0FDckNVLE9BQU9lLEtBQU8sS0FDZGYsT0FBT2QsTUFBUSxLQUNmYyxPQUFPZ0IsV0FBYSxLQUVoQmYsT0FBT1YsUUFDVFcsRUFBRWUsTUFBTWhCLE9BQVFELFFBR2xCQSxPQUFPa0IsT0FBTyxnQkFBaUJILE9BQ3pCQSxnQkFBZ0IvQyxRQUFRbUQsT0FBU0osT0FBU2YsT0FBT2QsTUFDbkRjLE9BQU9kLE1BQVE2QixLQUNOQSxnQkFBZ0I5QyxhQUFhbUQsWUFBY0wsT0FBU2YsT0FBT2dCLGFBQ3BFaEIsT0FBT2dCLFdBQWFELFFBSXhCZixPQUFPcUIsV0FBYSxLQUNkckIsT0FBT2MsY0FJUGQsT0FBT2QsUUFDVGMsT0FBT2MsYUFBYyxFQUNyQmQsT0FBT2QsTUFBTW9DLEdBQUcsU0FBVSxLQUN4QkMsUUFBUUMsSUFBSSxpQkFBa0J4QixPQUFPZCxNQUFNdUMsVUFJM0N6QixPQUFPZ0IsYUFDVGhCLE9BQU9jLGFBQWMsRUFDckJTLFFBQVFDLElBQUksMkJBSWhCeEIsT0FBT2tCLE9BQU8seUJBQTBCLENBQUNRLE9BQVFDLFVBQzFDRCxTQUFVN0QsRUFBRStELFFBQVFGLE9BQVFDLFNBSWpDM0IsT0FBT3FCLGVBRVRyQixPQUFPa0IsT0FBTyw4QkFBK0IsQ0FBQ1EsT0FBUUMsVUFDL0NELFNBQVU3RCxFQUFFK0QsUUFBUUYsT0FBUUMsU0FJakMzQixPQUFPcUIsZUFHSnZELFFBQVFlLFlBQVlDLElBQUksZUFDM0J5QyxRQUFRQyxJQS9FUCxPQStFaUIsYUFBY3hCLE9BQVFDLFNBSTVDNEIsWUFBYS9ELFFBQVE4QyxRQUFVOUMsUUFBUStDLFdBbEY3QixrQkFrRm1FM0MsSUFBTSJ9